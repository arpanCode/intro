name: Documentation

on: 
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - name: Generate Documentation
        uses: SwiftDocOrg/swift-doc@master
        with:
          inputs: "TestAppSite/Sources"
          module-name: "TestAppSite"
          output: "Documentation"
          format: "html"
#       - name: Upload Documentation to Wiki
#         uses: SwiftDocOrg/github-wiki-publish-action@v1
#         with:
#           path: "Documentation"
#         env:
#           GH_PERSONAL_ACCESS_TOKEN: ${{ secrets.GH_PERSONAL_ACCESS_TOKEN}}
          
#       - name: Publish to GitHub Pages
#         uses: tsunematsu21/actions-publish-gh-pages@v1.0.1
#         with:
#           # The name of the directory that containing the content to be published
#           dir: Documentation
#           # The name of the remote branch that publishing source for GitHub Pages site
#           branch: main
#           # The remote repository that publishing source for GitHub Pages site, defaults to current repo and is formatted like 'user/repo-name'
#           # The personal access token that authorize repo access
#           token: ${{ secrets.GH_PERSONAL_ACCESS_TOKEN}}
      - name: Github Pages Custom Deploy
        # You may pin to the exact commit or the version.
        # uses: sterlingwes/gh-pages-deploy-action@8b237b6c575f341cd5c28660337a21869e222f62
        uses: sterlingwes/gh-pages-deploy-action@v1.1
        with:
          # A personal access token needed to push your site after it has been built.
          access-token: ${{ secrets.GH_PERSONAL_ACCESS_TOKEN}}
          # The subdirectory that your build command outputs your site assets to.
          source-directory: Documentation
          # The build command that should be run to generate your site.
          build-command: yarn build
          # The branch expected by GitHub to have the static files needed for your site.
#           deploy-branch: main
#           # The custom domain you want your Github Pages site to be served from.
#           custom-domain: 
